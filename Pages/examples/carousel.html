<html>

<head>

    <link rel="stylesheet" type="text/css"
        href="https://2021.igem.org/wiki/index.php?title=Template:TEC_COSTA_RICA/BootstrapMinCSS&action=raw&ctype=text/css" />

    <!-- Load Vue followed by BootstrapVue -->
    <script
        src="https://2021.igem.org/wiki/index.php?title=Template:TEC_COSTA_RICA/VueJS&action=raw&ctype=text/javascript"></script>

    <script
        src="https://2021.igem.org/wiki/index.php?title=Template:TEC_COSTA_RICA/BootstrapJS&action=raw&ctype=text/javascript"></script>



</head>


<style>
    .carousel .carousel-caption {
        padding-top: 2rem;
        height: 100%;
    }

    .carousel .carousel-caption h3 {
        font-size: 50px;
    }

    .carousel .carousel-caption p {
        font-size: 10 px;
    }

    .page_content_sections .page_content_section {
        display: none;
        padding: 10%;
        padding-top: 20px;
    }

    .page_content_sections .page_content_section_active {
        display: block;
    }
</style>

<script type="text/x-template" id="main_carousel">
    <div>
        <div>
            <div id="carouselExampleFullPage" class="carousel slide" data-bs-ride="carousel" data-bs-interval="false"  ref="maincarousel"  >
                <ol class="carousel-indicators">
                    <li v-for="(slide, index) in slides_content" data-bs-target="#carouselExampleFullPage"  v-bind:data-bs-slide-to="index" v-bind:class="{ active: index==0 }"></li>
                </ol>

                <div class="carousel-inner" role="listbox">


                    <div class="carousel-item" v-for="(slide, index) in slides_content"  v-bind:class="{ active: index==0 }">
                        <svg class="bd-placeholder-img" width="100%" height="250px" xmlns="http://www.w3.org/2000/svg"
                            aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false">
                            <rect width="100%" height="100%" fill="#1A1A1A" />
                        </svg>

                        <div class="carousel-caption text-start">
                            <h3 class="slide_tittle">
                                {{slide.title}}

                            </h3>
                            <p class="slide_text w-75">
                                {{slide.content}}
                            </p>
                        </div>
                    </div>
            </div>


            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFullPage"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFullPage"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>

        </div>
<!-- 
        <div class="page_content_sections">
            <div id="text_div_1" class="page_content_section page_content_section_active">
                Contenido 1
            </div>
            <div id="text_div_2" class="page_content_section">
                Contenido 2
            </div>
            <div id="text_div_3" class="page_content_section">
                Contenido 3
            </div>
        </div> -->
    </div>       
</script>


<script>
    Vue.component("main-carousel", {
        data: {},
        props: {
            current_slide: {
                type: Object,
                default: "casa"
            },
            slides_content: {
                type: Array,
                default: []
            }
        },

        template: "#main_carousel",
        methods: {
            greet: function (event) {
                alert("sdfsddf");

                alert(event);
                console.log(event);
            },
            updateCurrentSlide: function (event) {
                console.log("EVENT", event);
                console.log("current_slide", this.current_slide);
                this.current_slide.index = event.to;
                console.log("current_slide", this.current_slide);

            },

            addSlideListener: function () {
                this.$refs.maincarousel.addEventListener('slide.bs.carousel', this.updateCurrentSlide)
            },

        },
        mounted() {
            this.addSlideListener();
            console.log("THIS", this);
            console.log("THIS", this.current_slide);
        }

    });

</script>

<body>

    <div id="app">
        <h1>test</h1>
        {{current_slide_index}}
        <main-carousel v-bind:current_slide="current_slide_index" v-bind:slides_content="slides_content">
        </main-carousel>
        <div v-if="current_slide_index.index==0">0</div>
        <div v-if="current_slide_index.index==1">1</div>
        <div v-if="current_slide_index.index==2">2</div>


    </div>

</body>






<script>
    var app = new Vue({
        el: '#app',
        data() {
            return {
                isActive: true,
                message: 'hello app',
                current_slide_index: { index: 0 },
                slides_content: [
                    {
                        title: "titulo 1",
                        content: "contenido1"
                    },
                    {
                        title: "titulo 2",
                        content: "contenido2"
                    },
                    {
                        title: "titulo 3",
                        content: "contenido3"
                    }
                ],

            }
        },
        methods: {
            onSlideStart(slide) {
                this.sliding = true
            },
            onSlideEnd(slide) {
                this.sliding = false
            }
        }
    })
</script>


</html>